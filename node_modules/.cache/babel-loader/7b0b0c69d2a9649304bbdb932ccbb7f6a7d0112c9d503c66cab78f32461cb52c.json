{"ast":null,"code":"import React,{useEffect,useState}from'react';import Esqueceu_senha from'../Components/Buttons/Login/Esqueceu_senha';import{setCookie,getCookie}from\"../utils/Cookies\";import{loginApi}from'../utils/Login';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){let{rota}=_ref;const[alert,setAlert]=useState(null);const navigate=useNavigate();useEffect(()=>{const emailFromCookie=getCookie('email');if(emailFromCookie){document.getElementById('email').value=emailFromCookie;}},[]);const Cookie=()=>{const email=document.getElementById('email').value;setCookie('email',email,30);};const handleSubmit=event=>{event.preventDefault();const email=document.getElementById('email').value;const senha=document.getElementById('dz-password').value;try{loginApi(email,senha).then(isLoggedIn=>{if(isLoggedIn){setAlert(showSuccessAlert());setTimeout(()=>{return navigate(rota,{replace:true});},1000);}else{setAlert(showErrorAlert());}});}catch(error){console.error('Erro ao fazer login:',error);setAlert(showErrorAlert());}};const showSuccessAlert=()=>/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",role:\"alert\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"alert-heading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-circle-check\",style:{color:\"#00a372\",marginRight:'8px'}}),\"Login bem sucedido!\"]})});const showErrorAlert=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-circle-xmark\",style:{color:\"#e81132\",marginRight:'8px'}}),\"Usu\\xE1rio ou senha inv\\xE1lidos!\"]});return/*#__PURE__*/_jsx(\"section\",{className:\"vh-100 login-ativa-projetos\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5 h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col col-xl-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{borderRadius:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-5 d-none d-md-block\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-content\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\",className:\"mb-3 logo-dark\",alt:\"\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\",className:\"mb-3 logo-light\",alt:\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-media text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/logo/Logotipo Principal.png\",alt:\"\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-7 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4 p-lg-5 text-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Seja bem-vindo ao Sistema da Ativa Projetos!\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-1 text-dark\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 position-relative\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-1 text-dark\",children:\"Senha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"dz-password\",className:\"form-control\",required:true}),/*#__PURE__*/_jsxs(\"span\",{className:\"show-pass eye\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row d-flex justify-content-between mt-4 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check custom-checkbox mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"customCheckBox1\",onClick:Cookie}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"customCheckBox1\",children:\"Lembre minha prefer\\xEAncia\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(Esqueceu_senha,{rota:\"/nova-senha\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Entre\"})}),alert]})]})})})]})})})})})});}","map":{"version":3,"names":["React","useEffect","useState","Esqueceu_senha","setCookie","getCookie","loginApi","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","rota","alert","setAlert","navigate","emailFromCookie","document","getElementById","value","Cookie","email","handleSubmit","event","preventDefault","senha","then","isLoggedIn","showSuccessAlert","setTimeout","replace","showErrorAlert","error","console","className","role","children","style","color","marginRight","borderRadius","href","src","alt","onSubmit","type","id","required","onClick","htmlFor"],"sources":["/workspaces/gecon-vercel/src/Pages/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Esqueceu_senha from '../Components/Buttons/Login/Esqueceu_senha';\r\nimport { setCookie, getCookie } from \"../utils/Cookies\";\r\nimport { loginApi } from '../utils/Login';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Login({rota}) {\r\n  const [alert, setAlert] = useState(null);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const emailFromCookie = getCookie('email');\r\n    if (emailFromCookie) {\r\n      document.getElementById('email').value = emailFromCookie;\r\n    }\r\n  }, []);\r\n\r\n  const Cookie = () => {\r\n    const email = document.getElementById('email').value;\r\n    setCookie('email', email, 30);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const email = document.getElementById('email').value;\r\n    const senha = document.getElementById('dz-password').value;\r\n\r\n    try {\r\n     loginApi(email, senha).then((isLoggedIn) => {\r\n      if (isLoggedIn) {\r\n          setAlert(showSuccessAlert());\r\n          setTimeout(() => {\r\n           return navigate(rota, { replace: true });\r\n          }, 1000);\r\n        } else {\r\n          setAlert(showErrorAlert());\r\n        }\r\n    });\r\n\r\n     \r\n    } catch (error) {\r\n      console.error('Erro ao fazer login:', error);\r\n      setAlert(showErrorAlert());\r\n    }\r\n  };\r\n\r\n  const showSuccessAlert = () => (\r\n    <div className=\"alert alert-success\" role=\"alert\">\r\n      <h4 className=\"alert-heading\">\r\n        <i className=\"fa-regular fa-circle-check\" style={{ color: \"#00a372\", marginRight: '8px' }} />\r\n        Login bem sucedido!\r\n      </h4>\r\n    </div>\r\n  );\r\n  \r\n  const showErrorAlert = () => (\r\n    <div className=\"alert alert-danger\" role=\"alert\">\r\n      <i className=\"fa-regular fa-circle-xmark\" style={{ color: \"#e81132\", marginRight: '8px' }} />\r\n      Usuário ou senha inválidos!\r\n    </div>\r\n  );\r\n  \r\n\r\n  return (\r\n    <section className=\"vh-100 login-ativa-projetos\">\r\n      <div className=\"container py-5 h-100\">\r\n        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n          <div className=\"col col-xl-10\">\r\n            <div className=\"card\" style={{ borderRadius: '1rem' }}>\r\n              <div className=\"row g-0\">\r\n                <div className=\"col-md-6 col-lg-5 d-none d-md-block\">\r\n                  <div>\r\n                    <div className=\"login-content\">\r\n                      <a href=\"\"><img src=\"\" className=\"mb-3 logo-dark\" alt=\"\" /></a>\r\n                      <a href=\"\"><img src=\"\" className=\"mb-3 logo-light\" alt=\"\" /></a>\r\n                    </div>\r\n                    <div className=\"login-media text-center\">\r\n                      <img src=\"images/logo/Logotipo Principal.png\" alt=\"\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6 col-lg-7 d-flex align-items-center\">\r\n                  <div className=\"card-body p-4 p-lg-5 text-black\">\r\n                    <div className=\"login-form\">\r\n                      <div className=\"text-center\">\r\n                        <h3 className=\"title\">Login</h3>\r\n                        <p>Seja bem-vindo ao Sistema da Ativa Projetos!</p>\r\n                      </div>\r\n                      <form onSubmit={handleSubmit}>\r\n                        <div className=\"mb-4\">\r\n                          <label className=\"mb-1 text-dark\">Email</label>\r\n                          <input type=\"email\" id=\"email\" className=\"form-control\" required />\r\n                        </div>\r\n                        <div className=\"mb-4 position-relative\">\r\n                          <label className=\"mb-1 text-dark\">Senha</label>\r\n                          <input type=\"password\" id=\"dz-password\" className=\"form-control\" required />\r\n                          <span className=\"show-pass eye\">\r\n                            <i className=\"fa fa-eye-slash\" />\r\n                            <i className=\"fa fa-eye\" />\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"form-row d-flex justify-content-between mt-4 mb-2\">\r\n                          <div className=\"mb-4\">\r\n                            <div className=\"form-check custom-checkbox mb-3\">\r\n                              <input type=\"checkbox\" className=\"form-check-input\" id=\"customCheckBox1\" onClick={Cookie} />\r\n                              <label className=\"form-check-label\" htmlFor=\"customCheckBox1\">Lembre minha preferência</label>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"mb-4\">\r\n                            <Esqueceu_senha rota={\"/nova-senha\"}/>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-center mb-4\">\r\n                          <button type=\"submit\" className=\"btn btn-primary btn-block\">Entre</button>\r\n                        </div>\r\n                        {alert}\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}