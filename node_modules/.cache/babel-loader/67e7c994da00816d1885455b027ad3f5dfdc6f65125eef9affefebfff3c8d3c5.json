{"ast":null,"code":"import React,{useEffect,useState}from'react';import Multiselect from'multiselect-react-dropdown';import{Modal,Form,Row,Col,Button}from'react-bootstrap';import{api}from'../lib/Axios';import{API_URL,TOKEN}from'../config/Globals';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DynamicModal=_ref=>{let{show,onHide,fields,post,get,onSubmit,title}=_ref;const[formValues,setFormValues]=useState({});const[valueProfiles,setValueProfiles]=useState([]);const[states,setStates]=useState([]);const[cities,setCities]=useState([]);const[profiles,setProfiles]=useState([]);const[currentStep,setCurrentStep]=useState(1);// Função para obter etapas distintas\nconst getFieldSteps=fields=>{const steps=[];fields.forEach(field=>{if(field.step){if(!steps.includes(field.step)){steps.push(field.step);}}else if(!steps.length){steps.push(1);}});return steps.sort((a,b)=>a-b);};const steps=getFieldSteps(fields);// Funções para buscar dados\nconst fetchStates=async()=>{try{const response=await axios.get('https://servicodados.ibge.gov.br/api/v1/localidades/estados');setStates(response.data);}catch(error){console.error('Erro ao buscar estados:',error);}};const fetchProfiles=()=>{try{api(true).get('/grupoAcesso/getList').then(response=>response.data).then(data=>setProfiles(data)).catch(error=>console.error('Erro:',error));}catch(error){console.error('Erro ao buscar perfis:',error);}};const fetchCities=async stateId=>{try{const response=await axios.get(\"https://servicodados.ibge.gov.br/api/v1/localidades/estados/\".concat(stateId,\"/municipios\"));setCities(response.data);}catch(error){console.error('Erro ao buscar cidades:',error);}};// Função para preencher campos automaticamente\nconst fetchAdditionalData=(fieldName,fieldValue)=>{let dado=fieldName==='cnpj'?fieldValue.replace(/[./-]/g,''):fieldValue;try{axios.get(\"\".concat(get).concat(dado)).then(response=>{if(response.data){onSubmit(response.data);const newFormValues={...formValues};for(const[key,value]of Object.entries(response.data)){const field=fields.find(f=>f.name===key);if(field){newFormValues[key]=value;}}setFormValues(newFormValues);onSubmit(response.data);}});}catch(error){console.error('Erro ao buscar dados adicionais:',error);}};function getFirst(title){const trimmed=title.trim();const name=trimmed.split(' ');return name[0];}// Manipulação de eventos\nconst handleChange=e=>{console.log('ok');const{name,value}=e.target;console.log(name);setFormValues(prevValues=>({...prevValues,[name]:value}));if(name==='state'){fetchCities(value);}const field=fields.find(field=>field.name===name);if(field!==null&&field!==void 0&&field.request&&value){fetchAdditionalData(name,value);}};const onSelect=(selectedList,selectedItem)=>{setValueProfiles(selectedList.sort((a,b)=>a.id-b.id).map(item=>item.id));};const onRemove=(selectedList,removedItem)=>{setValueProfiles(valueProfiles.filter(id=>id!==removedItem.id));};const handleSubmit=e=>{e.preventDefault();let method='';const data={};for(const[key,value]of Object.entries(formValues)){if(key==='perfil'){data[key]=valueProfiles;}else if(value===''){var _field$defaultValue;const field=fields.find(field=>field.name===key&&(field!==null&&field!==void 0&&field.defaultValue?field.defaultValue:field.value));if(field)data[key]=(_field$defaultValue=field===null||field===void 0?void 0:field.defaultValue)!==null&&_field$defaultValue!==void 0?_field$defaultValue:field===null||field===void 0?void 0:field.value;}else{data[key]=value;}}switch(getFirst(title)){case'Cadastro':method='POST';break;case'Editar':method='PUT';break;default:break;}try{console.table(data,{tableName:'Dados enviados!!'});fetch(\"\".concat(API_URL,\"/\").concat(post),{method:\"\".concat(method),headers:{'Authorization':\"Bearer \".concat(TOKEN),'Content-Type':'application/json'},body:JSON.stringify(data)}).then(response=>response).then(response=>response.status===201?setTimeout(()=>{onHide();window.location.reload();},500):alert(response.json()['description'])).catch(error=>console.error('Erro:',error));{}}catch(error){console.error('Erro ao enviar formulário:',error);}};const handleNextStep=()=>{if(currentStep<steps.length){setCurrentStep(currentStep+1);}};const handlePreviousStep=()=>{if(currentStep>1){setCurrentStep(currentStep-1);}};useEffect(()=>{const container=document.querySelector('.searchWrapper');if(container){container.classList.remove('searchWrapper');container.classList.add('form-control');}// Definindo ações para campos que necessitam de busca de dados\nconst actions={perfil:fetchProfiles,states:fetchStates};fields.forEach(field=>{const action=actions[field.name];if(action){action();}});},[fields]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,backdrop:\"static\",size:\"lg\",centered:true,dialogClassName:\"modal-\".concat(currentStep),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:title})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Row,{children:fields.filter(field=>field.step===currentStep).map((field,index)=>{var _formValues$field$nam,_field$options,_formValues$field$nam2;const colWidth=fields.filter(f=>f.step===currentStep).length>=2?6:12;return/*#__PURE__*/_jsx(Col,{xl:colWidth,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGrid\".concat(field.name),children:[/*#__PURE__*/_jsxs(Form.Label,{children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red',marginLeft:'5px'},children:\"*\"})]}),field.type==='select'?/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:field.name,value:(_formValues$field$nam=formValues[field.name])!==null&&_formValues$field$nam!==void 0?_formValues$field$nam:'',onChange:handleChange,required:field.required,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Selecione\"}),field.label==='Estado'&&states.map(state=>/*#__PURE__*/_jsx(\"option\",{value:state.id,children:state.nome},state.id)),field.label==='Cidade'&&cities.map(city=>/*#__PURE__*/_jsx(\"option\",{value:city.id,children:city.nome},city.id))]}):field.type==='multi-select'?field.label==='Perfil'&&/*#__PURE__*/_jsx(Multiselect,{options:profiles.map(profile=>({id:profile.id,name:profile.grupo,disabled:!profile.ativo})),showCheckbox:true,onChange:e=>handleChange,onSelect:onSelect,onRemove:onRemove,placeholder:field.placeholder,selectedValues:field.defaultValue,name:field.name,required:field.required,loading:!profiles?true:false,hidePlaceholder:false}):field.type==='checkbox'?(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.map((option,i)=>/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:option.label,name:field.name,value:option.nome,onChange:handleChange},i)):field.type==='custom'?field.customComponent:/*#__PURE__*/_jsx(Form.Control,{type:field.type,placeholder:field.placeholder,name:field.name,value:(_formValues$field$nam2=formValues[field.name])!==null&&_formValues$field$nam2!==void 0?_formValues$field$nam2:'',onChange:handleChange,required:field.required,pattern:field.pattern,title:field.title,disabled:field.disabled})]})},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 d-flex justify-content-end\",children:[currentStep>1&&/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handlePreviousStep,className:\"me-2\",children:\"Voltar\"}),currentStep<steps.length?/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleNextStep,children:\"Pr\\xF3ximo\"}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Enviar\"})]})]})})]});};export default DynamicModal;","map":{"version":3,"names":["React","useEffect","useState","Multiselect","Modal","Form","Row","Col","Button","api","API_URL","TOKEN","axios","jsx","_jsx","jsxs","_jsxs","DynamicModal","_ref","show","onHide","fields","post","get","onSubmit","title","formValues","setFormValues","valueProfiles","setValueProfiles","states","setStates","cities","setCities","profiles","setProfiles","currentStep","setCurrentStep","getFieldSteps","steps","forEach","field","step","includes","push","length","sort","a","b","fetchStates","response","data","error","console","fetchProfiles","then","catch","fetchCities","stateId","concat","fetchAdditionalData","fieldName","fieldValue","dado","replace","newFormValues","key","value","Object","entries","find","f","name","getFirst","trimmed","trim","split","handleChange","e","log","target","prevValues","request","onSelect","selectedList","selectedItem","id","map","item","onRemove","removedItem","filter","handleSubmit","preventDefault","method","_field$defaultValue","defaultValue","table","tableName","fetch","headers","body","JSON","stringify","status","setTimeout","window","location","reload","alert","json","handleNextStep","handlePreviousStep","container","document","querySelector","classList","remove","add","actions","perfil","action","backdrop","size","centered","dialogClassName","children","Header","closeButton","Title","Body","index","_formValues$field$nam","_field$options","_formValues$field$nam2","colWidth","xl","Group","controlId","Label","label","required","style","color","marginLeft","type","Control","as","onChange","disabled","state","nome","city","options","profile","grupo","ativo","showCheckbox","placeholder","selectedValues","loading","hidePlaceholder","option","i","Check","customComponent","pattern","className","variant","onClick"],"sources":["/workspaces/gecon-vercel/src/Components/Modal.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport { Modal, Form, Row, Col, Button } from 'react-bootstrap';\r\nimport { api } from '../lib/Axios';\r\nimport { API_URL, TOKEN } from '../config/Globals';\r\nimport axios from 'axios';\r\nconst DynamicModal = ({ show, onHide, fields, post, get, onSubmit, title }) => {\r\n  const [formValues, setFormValues] = useState({});\r\n  const [valueProfiles, setValueProfiles] = useState([]);\r\n  const [states, setStates] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [profiles, setProfiles] = useState([]);\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n\r\n  // Função para obter etapas distintas\r\n  const getFieldSteps = (fields) => {\r\n    const steps = [];\r\n    fields.forEach(field => {\r\n      if (field.step) {\r\n        if (!steps.includes(field.step)) {\r\n          steps.push(field.step);\r\n        }\r\n      } else if (!steps.length) {\r\n        steps.push(1);\r\n      }\r\n    });\r\n    return steps.sort((a, b) => a - b);\r\n  };\r\n\r\n  const steps = getFieldSteps(fields);\r\n\r\n  // Funções para buscar dados\r\n  const fetchStates = async () => {\r\n    try {\r\n      const response = await axios.get('https://servicodados.ibge.gov.br/api/v1/localidades/estados');\r\n      setStates(response.data);\r\n    } catch (error) {\r\n      console.error('Erro ao buscar estados:', error);\r\n    }\r\n  };\r\n\r\n  const fetchProfiles = () => {\r\n    try {\r\n      api(true).get('/grupoAcesso/getList')\r\n        .then(response => response.data)\r\n        .then(data => setProfiles(data))\r\n        .catch(error => console.error('Erro:', error));\r\n    } catch (error) {\r\n      console.error('Erro ao buscar perfis:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCities = async (stateId) => {\r\n    try {\r\n      const response = await axios.get(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${stateId}/municipios`);\r\n      setCities(response.data);\r\n    } catch (error) {\r\n      console.error('Erro ao buscar cidades:', error);\r\n    }\r\n  };\r\n\r\n  // Função para preencher campos automaticamente\r\n  const fetchAdditionalData = (fieldName, fieldValue) => {\r\n    let dado = fieldName === 'cnpj' ? fieldValue.replace(/[./-]/g, '') : fieldValue;\r\n    try {\r\n      axios.get(\r\n        `${get}${dado}`\r\n      ).then((response) => {\r\n        if (response.data) {\r\n          onSubmit(response.data);\r\n          const newFormValues = { ...formValues };\r\n          for (const [key, value] of Object.entries(response.data)) {\r\n            const field = fields.find(f => f.name === key);\r\n            if (field) {\r\n              newFormValues[key] = value;\r\n            }\r\n          }\r\n          setFormValues(newFormValues);\r\n          onSubmit(response.data);\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error('Erro ao buscar dados adicionais:', error);\r\n    }\r\n  };\r\n  function getFirst(title) {\r\n    const trimmed = title.trim();\r\n    const name = trimmed.split(' ');\r\n    return name[0];\r\n  }\r\n  // Manipulação de eventos\r\n  const handleChange = (e) => {\r\n    console.log('ok')\r\n    const { name, value } = e.target;\r\n    console.log(name)\r\n    setFormValues(prevValues => ({\r\n      ...prevValues,\r\n      [name]: value\r\n    }));\r\n\r\n    if (name === 'state') {\r\n      fetchCities(value);\r\n    }\r\n\r\n    const field = fields.find(field => field.name === name);\r\n    if (field?.request && value) {\r\n      fetchAdditionalData(name, value);\r\n    }\r\n  };\r\n  const onSelect = (selectedList, selectedItem) => {\r\n    setValueProfiles(selectedList.sort((a, b) => a.id - b.id).map((item) => item.id));\r\n  };\r\n\r\n  const onRemove = (selectedList, removedItem) => {\r\n    setValueProfiles(valueProfiles.filter((id) => id !== removedItem.id));\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let method = '';\r\n\r\n    const data = {};\r\n\r\n    for (const [key, value] of Object.entries(formValues)) {\r\n      if (key === 'perfil') {\r\n        data[key] = valueProfiles;\r\n      } else if (value === '') {\r\n        const field = fields.find(\r\n          (field) => field.name === key && (field?.defaultValue ? field.defaultValue : field.value)\r\n        );\r\n        if (field) data[key] = field?.defaultValue ?? field?.value;\r\n      } else {\r\n        data[key] = value;\r\n      }\r\n    }\r\n    switch (getFirst(title)) {\r\n      case 'Cadastro':\r\n        method = 'POST';\r\n        break;\r\n      case 'Editar':\r\n        method = 'PUT';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n\r\n\r\n    try {\r\n    console.table(data, { tableName: 'Dados enviados!!' });\r\n\r\n      fetch(`${API_URL}/${post}`, {\r\n        method: `${method}`,\r\n        headers: {\r\n          'Authorization': `Bearer ${TOKEN}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n        .then(response => response)\r\n        .then(response =>\r\n          response.status === 201 ?\r\n            setTimeout(() => {\r\n              onHide();\r\n              window.location.reload();\r\n            }, 500)\r\n            :\r\n            alert(response.json()['description']))\r\n        .catch(error => console.error('Erro:', error));\r\n      {\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao enviar formulário:', error);\r\n    }\r\n\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (currentStep < steps.length) {\r\n      setCurrentStep(currentStep + 1);\r\n    }\r\n  };\r\n\r\n  const handlePreviousStep = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('.searchWrapper');\r\n    if (container) {\r\n      container.classList.remove('searchWrapper');\r\n      container.classList.add('form-control');\r\n    }\r\n\r\n    // Definindo ações para campos que necessitam de busca de dados\r\n    const actions = {\r\n      perfil: fetchProfiles,\r\n      states: fetchStates,\r\n    };\r\n\r\n    fields.forEach((field) => {\r\n      const action = actions[field.name];\r\n      if (action) {\r\n        action();\r\n      }\r\n    });\r\n  }, [fields]);\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      backdrop=\"static\"\r\n      size=\"lg\"\r\n      centered\r\n      dialogClassName={`modal-${currentStep}`}\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Row>\r\n            {fields\r\n              .filter(field => field.step === currentStep)\r\n              .map((field, index) => {\r\n                const colWidth = fields.filter(f => f.step === currentStep).length >= 2 ? 6 : 12;\r\n                return (\r\n                  <Col key={index} xl={colWidth}>\r\n                    <Form.Group controlId={`formGrid${field.name}`}>\r\n                      <Form.Label>\r\n                        {field.label}\r\n                        {field.required && <span style={{ color: 'red', marginLeft: '5px' }}>*</span>}\r\n                      </Form.Label>\r\n                      {field.type === 'select' ? (\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name={field.name}\r\n                          value={formValues[field.name] ?? ''}\r\n                          onChange={handleChange}\r\n                          required={field.required}\r\n                        >\r\n                          <option value=\"\" disabled>Selecione</option>\r\n                          {field.label === 'Estado' && states.map(state => (\r\n                            <option key={state.id} value={state.id}>\r\n                              {state.nome}\r\n                            </option>\r\n                          ))}\r\n                          {field.label === 'Cidade' && cities.map(city => (\r\n                            <option key={city.id} value={city.id}>\r\n                              {city.nome}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Control>\r\n                      ) : field.type === 'multi-select' ? (\r\n                        field.label === 'Perfil' && (\r\n                          <Multiselect\r\n                            options={profiles.map((profile) => ({\r\n                              id: profile.id,\r\n                              name: profile.grupo,\r\n                              disabled: !profile.ativo\r\n                            }))}\r\n                            showCheckbox={true}\r\n                            onChange={(e) => handleChange}\r\n                            onSelect={onSelect}\r\n                            onRemove={onRemove}\r\n                            placeholder={field.placeholder}\r\n                            selectedValues={field.defaultValue}\r\n                            name={field.name}\r\n                            required={field.required}\r\n                            loading={!profiles ? true : false}\r\n                            hidePlaceholder={false}\r\n                          />\r\n                        )\r\n                      ) : field.type === 'checkbox' ? (\r\n                        field.options?.map((option, i) => (\r\n                          <Form.Check\r\n                            key={i}\r\n                            type=\"checkbox\"\r\n                            label={option.label}\r\n                            name={field.name}\r\n                            value={option.nome}\r\n                            onChange={handleChange}\r\n                          />\r\n                        ))\r\n                      ) : field.type === 'custom' ? (\r\n                        field.customComponent\r\n                      ) : (\r\n                        <Form.Control\r\n                          type={field.type}\r\n                          placeholder={field.placeholder}\r\n                          name={field.name}\r\n                          value={formValues[field.name] ?? ''}\r\n                          onChange={handleChange}\r\n                          required={field.required}\r\n                          pattern={field.pattern}\r\n                          title={field.title}\r\n                          disabled={field.disabled}\r\n                        />\r\n                      )}\r\n                    </Form.Group>\r\n                  </Col>\r\n                );\r\n              })}\r\n          </Row>\r\n          <div className=\"mt-3 d-flex justify-content-end\">\r\n            {currentStep > 1 && (\r\n              <Button variant=\"secondary\" onClick={handlePreviousStep} className=\"me-2\">\r\n                Voltar\r\n              </Button>\r\n            )}\r\n            {currentStep < steps.length ? (\r\n              <Button variant=\"primary\" onClick={handleNextStep}>\r\n                Próximo\r\n              </Button>\r\n            ) : (\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Enviar\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DynamicModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}